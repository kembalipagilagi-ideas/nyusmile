<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nyu’s Infinite Comedy Poetry</title>

  <style>
    /* === MOVING WAVE BACKGROUND === */
    body {
      margin: 0;
      background: #fafafa;
      overflow-x: hidden;
      overflow-y: auto;
      font-family: "Georgia", serif;
      color: #222;
      line-height: 1.8;
      padding: 40px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .waves {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 200%;
      height: 200px;
      background: url('data:image/svg+xml;utf8,<svg width="100%" height="100%" viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><path fill="%23003366" fill-opacity="0.25" d="M0,64L48,85.3C96,107,192,149,288,149.3C384,149,480,107,576,106.7C672,107,768,149,864,170.7C960,192,1056,192,1152,202.7C1248,213,1344,235,1392,245.3L1440,256L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
      background-size: cover;
      animation: waveMove 12s linear infinite;
      z-index: -1;
      opacity: 0.8;
    }

    @keyframes waveMove {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    h1 {
      font-family: "Helvetica", sans-serif;
      font-weight: 700;
      color: #003366;
      margin-bottom: 5px;
    }

    h2 {
      font-weight: 400;
      color: #555;
      margin-bottom: 30px;
      font-style: italic;
    }

    #poem {
      white-space: pre-wrap;
      overflow: hidden;
      position: relative;
    }

    .line {
      opacity: 0;
      transform: translateY(10px);
      animation: fadeInUp 0.6s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>
  <div class="waves"></div>

  <h1>Nyu’s Infinite Comedy Poetry</h1>
  <h2>An infinite generative comedy poem inspired by Taroko Gorge (2009)</h2>
  <div id="poem"></div>

  <script>
  /* === INFINITE COMEDY POETRY GENERATOR === */
  const subjects = [
    "the clown", "a banana", "my ex’s toaster", "the algorithm", "a confused robot", "a lost poet",
    "a cosmic comedian", "a data ghost", "the Wi-Fi spirit", "a stand-up philosopher",
    "a talking refrigerator", "a broken chatbot", "the punchline itself", "a nostalgic emoji",
    "the ghost of laughter", "a tired influencer", "a dramatic AI", "an anxious pixel",
    "the audience", "a forgotten password", "a recycled meme", "a glowing screen",
    "the echo of applause", "a digital prophet", "a binary bird", "a sarcastic cloud",
    "a dreaming GIF", "an emotional algorithm", "the glitch artist", "a surreal toaster",
    "the background noise", "a caffeinated poet", "a mysterious error 404"
  ];

  const actions = [
    "laughs", "cries", "tweets", "dances", "forgets", "dreams", "scrolls endlessly", "explains the joke",
    "updates itself", "loops forever", "deletes emotions", "waits for applause", "uploads nostalgia",
    "refreshes reality", "downloads irony", "types nervously", "questions existence", "reboots consciousness",
    "analyzes laughter", "debugs feelings", "drops the punchline", "pauses for effect", "mimics sincerity"
  ];

  const places = [
    "in the supermarket", "on stage", "inside a meme", "under a disco ball", "between punchlines",
    "at the edge of logic", "inside a group chat", "beneath neon silence", "in the server room",
    "beyond the fourth wall", "inside the cloud", "between notifications"
  ];

  const moods = [
    "ironically", "chaotically", "awkwardly", "melancholically", "unexpectedly", "gracefully",
    "absurdly", "digitally", "existentially", "glitchily", "softly", "boldly", "curiously"
  ];

  const closers = [
    "and the audience forgets why they came.",
    "then silence applauds itself.",
    "until the joke becomes philosophy.",
    "while the algorithm dreams of comedy."
  ];

  function random(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  function generateUniquePoem(lineCount = 15) {
    const used = new Set();
    const lines = [];
    while (lines.length < lineCount) {
      const line = `${random(subjects)} ${random(actions)} ${random(places)} ${random(moods)}.`;
      if (!used.has(line)) {
        used.add(line);
        lines.push(line);
      }
    }
    lines.push(random(closers));
    return lines;
  }

  function displayPoemAnimated() {
    const container = document.getElementById("poem");
    container.innerHTML = "";
    const lines = generateUniquePoem();
    lines.forEach((line, i) => {
      const div = document.createElement("div");
      div.className = "line";
      div.style.animationDelay = `${i * 0.6}s`;
      div.textContent = line;
      container.appendChild(div);
    });
  }

  displayPoemAnimated();
  </script>
</body>
</html>
